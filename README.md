# PythingsOS

### Requirements

Python version: Python 3 required

MicroPython version: MicroPython > 1.8.6 required


### How to draft a new release

Run the utilities/draft_release.sh script, that will:

- Update version in common and in the buildchain
- Create files lists for remote updates
- Build the artifacts:
  - the installer; 
  - the self extracting archives (selfarchives);
  - the firmwares, frozen and not.

Then, run the utilities/finalize_release.sh script, that will:

- Create a new commit in this repo
- Create a new version tag for the new commit 
- Push the new commit and tag
- Copy artifacts into the build folder of PythingsData
- Commit and push
- Return the two new hashes for PythingsOS and PythingsData

### Manual processes

To manually draft a new release:

	git commit
	git push
    git tag -a v1.0.1
    git push origin v1.0.1
    

Last step is to generate the MicroPython + PythingsOS firmware builds (only esp8266 and esp8266_esp-12 supported), enter in the tools/buildchain directory and run ""./build.sh"

The zip fileas and installer on the website is generated by.. []the dockerfile?


### Updateability

The hal.py is not updatable (it is supposed to be very "intimate" with the hardware), while sal.py it is. 


### In case of a wrong release tag

 In case of wrong release tags, use:
 
    git tag -d v1.0.1
    git push origin :refs/tags/v1.0.1


